<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<div th:replace="fragments/menuTemplate :: menuHead"></div>

<body>
<div th:replace="fragments/menuTemplate :: menuBody"></div>
<div class="main-container">
  <div class="row m-0 bg-primary fixed-top myNav">
    <div class="col-md-6 border-bottom border-primary p-0 bg-primary d-flex justify-content-start align-items-center">
      <h3 class="fw-bold text-white mx-4 my-3">Cargues Base Fiscal</h3>
    </div>
  </div>
  <!-- Cover -->
  <div id="content">
    <div class="row mt-5">
      <div class="text-right pr-3 col-md-12 my-2">
        <a class="btn btn-primary mx-1" th:href="@{/bank/taxBaseStateLoads}"><i class="fas fa-redo-alt"></i></a>
        <a class="btn btn-primary mx-1" th:href="@{/bank/taxBaseStateLoads/add}">Adicionar Petición</a>
        <a class="btn btn-primary mx-1" th:href="@{/bank/taxBase?period={period}(period=${period})}">Base Fiscal</a>
      </div>
      <div class="col-md-12">
        <div class="table-responsive-sm rounded border-primary">
          <table id="example" class="table table-sm table-striped text-center table-bordered" cellspacing="0" width="50%">
            <thead class="bg-primary">
            <tr>
              <th>Petición</th>
              <th>NIT</th>
              <th>Periodo</th>
              <th>Estado Cargue</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="taxBase : ${allTaxBaseLoad}">
              <td th:text="${taxBase.peticion}"></td>
              <td th:text="${taxBase.nit}"></td>
              <td th:text="${taxBase.fecha}"></td>
              <td th:switch="${taxBase.estado}">
                <span th:case="'CARGADO'"><i class="fa fa-check-circle fa-2x text-success"></i></span>
                <span th:case="'PENDIENTE'"><i class="fa fa-info-circle fa-2x text-warning"></i></span>
                <div th:case="*">
                  <div th:text="${taxBase.estado}"/>
                </div>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="row" th:if="${last != 0}">
      <div class="col-md-8 text-left">
        <nav arial-label="Pagination">
          <ul class="pagination">
            <li class="page-item" th:classappend="${prev == 0 ? 'disabled' : ''}">
              <a class="page-link" th:href="@{/bank/{dir}/?page={page}&vId={vId}&period={period}(period=${period},page=${prev},dir=${directory},vId=${vId})}">Anterior</a>
            </li>
            <li class="page-item" th:classappend="${current == last ? 'disabled' : ''}">
              <a class="page-link" th:href="@{/bank/{dir}/?page={page}&vId={vId}&period={period}(period=${period},page=${next},dir=${directory},vId=${vId})}">Siguiente</a>
            </li>
          </ul>
        </nav>
      </div>
      <div class="col-md-4 text-right">
        <h6 class="mx-1" th:utext="'Página ' + ${current} + ' de ' + ${last}" ></h6>
      </div>
    </div>
    <div class="pr-3 col-md-12 my-2">
      <div class="d-flex align-items-center justify-content-center">

      </div>
    </div>
  </div>
</div>
<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.0.3.min.js" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
<script type="text/javascript">
    var queryString = window.location.search;
    var urlParams = new URLSearchParams(queryString);
    var respuesta = urlParams.get('resp');
    var row = urlParams.get('row');
    var column = urlParams.get('colum');
    validateAlerts(respuesta,row,column);
    $(document).ready(function() {
      $('#sidebarCollapse').on('click', function() {
        $('#sidebar').toggleClass('active');
      });
    });
  </script>
</body>

</html>